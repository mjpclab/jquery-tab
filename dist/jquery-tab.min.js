!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e["jquery-tab"]=t(e.jQuery)}(this,function(le){"use strict";le=le&&le.hasOwnProperty("default")?le["default"]:le;var oe={triggerEvents:"click",delayTriggerEvents:"",delayTriggerCancelEvents:"",delayTriggerLatency:200,statusFieldSelector:"",statusHashTemplate:"",statusHashSeparator:"&",fixedHeight:!1,mode:"horizontal",activePosition:0,createEmptyTab:!1,onBeforeSwitch:undefined,onAfterSwitch:undefined,titleSelector:"h1,h2,h3,h4,h5,h6",fnGetTitleContent:function(e){return e.contents()},keepTitleVisible:!1,fnGetTabItemName:function(e){return e.attr("data-tab-item-name")},fnIsTabItemDisabled:function(e){var t=e.attr("data-tab-item-disabled");return t!==undefined&&"false"!==t},fnIsTabItemHidden:function(e){var t=e.attr("data-tab-item-hidden");return t!==undefined&&"false"!==t},tabContainerTemplate:"<div></div>",tabContainerClass:"tab-container",labelContainerTemplate:"<div></div>",labelContainerClass:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemTemplate:"<label></label>",labelItemClass:"label-item",panelContainerTemplate:"<div></div>",panelContainerClass:"panel-container",panelItemTemplate:"<div></div>",panelItemClass:"panel-item"};function P(e){for(var t,n=e;(t=n.children()).length;)n=t;return n.eq(0)}function b(e){var t=le(e.labelContainerTemplate).addClass(e.labelContainerClass).attr("role","tablist");return"vertical"===e.mode&&t.attr("aria-orientation","vertical"),{$labelContainer:t,$labelContainerLeaf:P(t)}}function de(e){var t=le(e.tabContainerTemplate).addClass(e.tabContainerClass);"horizontal"===e.mode?t.addClass(e.horizontalTabContainerClass):"vertical"===e.mode&&t.addClass(e.verticalTabContainerClass);var n=function c(e){var t,n;if(e.showHeaderLabelContainer){var a=b(e),r=a.$labelContainer,i=a.$labelContainerLeaf;r.addClass(e.headerLabelContainerClass),t=r,n=i}return{$headerLabelContainer:t,$headerLabelContainerLeaf:n}}(e),a=n.$headerLabelContainer,r=n.$headerLabelContainerLeaf;a&&t.append(a);var i=function f(e){var t=le(e.panelContainerTemplate).addClass(e.panelContainerClass);return{$panelContainer:t,$panelContainerLeaf:P(t)}}(e),l=i.$panelContainer,o=i.$panelContainerLeaf;t.append(l);var d=function C(e){var t,n;if(e.showFooterLabelContainer){var a=b(e),r=a.$labelContainer,i=a.$labelContainerLeaf;r.addClass(e.footerLabelContainerClass),t=r,n=i}return{$footerLabelContainer:t,$footerLabelContainerLeaf:n}}(e),s=d.$footerLabelContainer,u=d.$footerLabelContainerLeaf;return s&&t.append(s),{$tabContainer:t,$headerLabelContainer:a,$headerLabelContainerLeaf:r,$panelContainer:l,$panelContainerLeaf:o,$footerLabelContainer:s,$footerLabelContainerLeaf:u}}var se,e,ue="#",ce=/[.?*+\\\(\)\[\]\{\}]/g;function fe(e){return-1!==e&&e!==undefined&&null!==e&&""!==e}function Ce(e,t,n){var a=e.name,r=e.disabled,i=e.hidden,l=n.tabItemNameAttr,o=n.disabledLabelItemClass,d=n.disabledPanelItemClass,s=n.hiddenLabelItemClass,u=n.hiddenPanelItemClass,c=function w(e,t){var n=le(t.labelItemTemplate).addClass(t.labelItemClass).attr("role","tab"),a=P(n);return a.append(e.title),{$labelItem:n,$labelItemLeaf:a}}(e,n),f=c.$labelItem,C=c.$labelItemLeaf,b=function H(e,t){var n=le(t.panelItemTemplate).addClass(t.panelItemClass).attr("role","tabpanel"),a=P(n);return a.append(e.content),{$panelItem:n,$panelItemLeaf:a}}(e,n),m=b.$panelItem,h=b.$panelItemLeaf;a&&(f.data(l,a),m.data(l,a)),r&&(f.addClass(o),m.addClass(d)),i&&(f.addClass(s),m.addClass(u));var v=t.containerId,I=t.nextItemId;t.nextItemId++;var g=0,p="__jquery-tab-label__".concat(v,"__").concat(I),L="__jquery-tab-panel__".concat(v,"__").concat(I),x="".concat(p,"__").concat(g),T=L,$=function $(){var e="".concat(p,"__").concat(g++);return e===x?f:f.clone().attr("id",e)};return f.attr("id",x).attr("aria-controls",L),m.attr("id",T).attr("aria-labelledby",x),{$labelItem:f,$labelItemLeaf:C,$panelItem:m,$panelItemLeaf:h,cloneLabelItem:$}}(e=se||(se={}))[e.Backward=0]="Backward",e[e.Forward=1]="Forward";var be=0;function a(e,t){var n=e.data(),a=function X(e,t,n){var a=le.extend({},e,t,n),r=a.tabContainerClass,i=a.labelContainerClass,l=a.labelItemClass,o=a.panelItemClass;return le.extend(a,{horizontalTabContainerClass:r+"-horizontal",verticalTabContainerClass:r+"-vertical",headerLabelContainerClass:i+"-header",footerLabelContainerClass:i+"-footer",tabItemNameAttr:"tabItemName",activeLabelItemClass:l+"-active",inactiveLabelItemClass:l+"-inactive",disabledLabelItemClass:l+"-disabled",hiddenLabelItemClass:l+"-hidden",activePanelItemClass:o+"-active",inactivePanelItemClass:o+"-inactive",disabledPanelItemClass:o+"-disabled",hiddenPanelItemClass:o+"-hidden"})}(oe,n,t),r={containerId:be++,nextItemId:0,itemCount:0,currentIndex:-1},i=le.extend({$region:e},de(a)),l=i.$tabContainer,o=function Y(e,n,t){var a=e.$headerLabelContainerLeaf,r=e.$footerLabelContainerLeaf,i=e.$panelContainerLeaf,l=t.tabItemNameAttr,o=t.disabledPanelItemClass,d=t.hiddenPanelItemClass,s=function s(e){if(0<=e&&e<n.itemCount)return i.children().eq(e).data(l)},u=function u(a){var r=-1;return i.children().each(function(e,t){var n=le(t);if(n.data(l)===a)return r=n.index(),!1}),r},c=function c(e){return"number"==typeof e?e:isFinite(e)?parseInt(e):e!==undefined?u(e):-1},f=function f(e){if("number"==typeof e)return{index:e,name:s(e)};if(isFinite(e)){var t=parseInt(e);return{index:t,name:s(t)}}return e?{index:u(e),name:e}:{index:-1,name:undefined}},C=function C(e){var t=c(e);if(0<=t&&t<n.itemCount)return i.children().eq(t).hasClass(o)},b=function b(e){return!C(e)},m=function m(e){var t=c(e);if(0<=t&&t<n.itemCount)return i.children().eq(t).hasClass(d)},h=function h(e){return!m(e)},v=function v(e){if(a){var t=c(e);if(0<=t&&t<n.itemCount)return a.children().eq(t)}return le([])},I=function I(e){if(r){var t=c(e);if(0<=t&&t<n.itemCount)return r.children().eq(t)}return le([])},g=function g(e){var t=c(e);return 0<=t&&t<n.itemCount?v(t).add(I(t)):le([])},p=function p(e){var t=c(e);return 0<=t&&t<n.itemCount?i.children().eq(t):le([])},L=function L(){return v(n.currentIndex)},x=function x(){return I(n.currentIndex)},T=function T(){return g(n.currentIndex)},$=function $(){return p(n.currentIndex)};return{getCount:function w(){return n.itemCount},getCurrentIndex:function H(){return n.currentIndex},getCurrentName:function P(){return n.currentName},getName:s,getIndexByName:u,positionToIndex:c,parsePosition:f,isDisabled:C,isEnabled:b,isHidden:m,isVisible:h,getHeaderLabel:v,getFooterLabel:I,getHeaderFooterLabels:g,getPanel:p,getCurrentHeaderLabel:L,getCurrentFooterLabel:x,getCurrentHeaderFooterLabels:T,getCurrentPanel:$}}(i,r,a),d=o.getCount,s=o.getCurrentIndex,u=o.getCurrentName,c=o.getName,f=o.getIndexByName,C=o.positionToIndex,b=o.parsePosition,m=o.isDisabled,h=o.isEnabled,v=o.isHidden,I=o.isVisible,g=o.getHeaderLabel,p=o.getFooterLabel,L=o.getHeaderFooterLabels,x=o.getPanel,T=o.getCurrentHeaderLabel,$=o.getCurrentFooterLabel,w=o.getCurrentHeaderFooterLabels,H=o.getCurrentPanel,P=function Z(e,n,a,t){var r=t.tabItemNameAttr,i=t.disabledLabelItemClass,l=t.disabledPanelItemClass,o=t.hiddenLabelItemClass,d=t.hiddenPanelItemClass,s=function s(e){var t=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1];n(e).toggleClass(i,t),a(e).toggleClass(l,t)},u=function u(e){var t=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1];s(e,!t)},c=function c(e){var t=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1];n(e).toggleClass(o,t),a(e).toggleClass(d,t)},f=function f(e){var t=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1];c(e,!t)};return{setName:function C(e,t){n(e).data(r,t),a(e).data(r,t)},setDisabled:s,setEnabled:u,setHidden:c,setVisible:f}}(0,L,x,a),y=P.setName,N=P.setDisabled,F=P.setEnabled,S=P.setHidden,q=P.setVisible,_=function ee(e,t){var a,n=e.$region,r=e.$tabContainer,i=t.statusFieldSelector,l=t.statusHashTemplate,o=t.statusHashSeparator,d=t.fnSavePosition,s=t.fnLoadPosition,u=t.activePosition,c=n.find(i);c.length||(c=le(i)),l&&(a=new RegExp(l.replace(ce,"\\$&")+"([-\\w]+)"));var f=function f(){var e=location.hash.match(a);return e&&e[1]?e[1]:-1};return{savePosition:function(e){if(c.val(e),l){var t=location.hash,n=l+e;-1<t.indexOf(l)?t=t.replace(a,n):(t!==ue&&(t.length?t+=o:t=ue),t+=n),location.replace(t)}d&&d.call(r,e)},loadPosition:function C(){var t=-1;return c.each(function(){var e=le(this).val();if("number"==typeof e||e.length)return t=e,!1}),fe(t)?t:l&&fe(t=f())?t:s&&fe(t=s.call(r))?t:fe(u)?u:0},parseHashPosition:f}}(i,a),E=_.savePosition,D=_.loadPosition,A=_.parseHashPosition,B=function te(p,u,c,f,r,L,x,T){var C=function C(e){var t=u(e),n=t.index,a=t.name;if(!(n<0||n>=x.itemCount||n===x.currentIndex)){var r=L.$tabContainer,i=x.currentIndex,l=x.currentName,o=T.onBeforeSwitch,d=T.onAfterSwitch;return"function"==typeof o&&o.call(r,{index:i,name:l},{index:n,name:a}),function s(e,t,n){var a=n.activeLabelItemClass,r=n.inactiveLabelItemClass,i=n.activePanelItemClass,l=n.inactivePanelItemClass;e.removeClass(r).addClass(a).attr("aria-selected","true").attr("aria-expanded","true"),e.siblings().removeClass(a).addClass(r).attr("aria-selected","false").attr("aria-expanded","false"),t.removeClass(l).addClass(i).attr("aria-hidden","false"),t.siblings().removeClass(i).addClass(l).attr("aria-hidden","true")}(c(n),f(n),T),x.currentIndex=n,x.currentName=a,"function"==typeof d&&d.call(r,{index:i,name:l},{index:n,name:a}),{index:n,name:a}}},$=function $(e){var t=C(e);if(t){var n=t.index,a=t.name;r(a||n)}return t},w=function w(e,t){var n=t||{},a=n.includeDisabled,r=n.includeHidden,i=n.loop,l=n.exclude,o=l&&l.length?le.map(l,function(e){return p(e)}):[],d=L.$panelContainer.children(),s=x.itemCount,u=x.currentIndex,c=T.disabledPanelItemClass,f=T.hiddenPanelItemClass,C=-1;i?C=0<=u&&u<s?s-1:s:e===se.Backward?C=u:e===se.Forward&&(C=s-u-1);for(var b=e===se.Backward?-1:1,m=1;m<=C;m++){var h=(u+m*b+s)%s;if(!(0<=le.inArray(h,o))){var v=d.eq(h),I=v.hasClass(c),g=v.hasClass(f);if(!I&&!g||a&&!g||!I&&r||a&&r)return $(h)}}};return{switchToWithoutSave:C,switchTo:$,switchPrevious:function t(e){return w(se.Backward,e)},switchNext:function n(e){return w(se.Forward,e)}}}(C,b,L,x,E,i,r,a),k=B.switchToWithoutSave,V=B.switchTo,j=B.switchPrevious,W=B.switchNext,z=function ne(b,u,c,f,e,C,m,s,h,v){var n=function n(){-1===h.currentIndex&&h.itemCount&&e(0)},I=function I(e,t){var n=s.$headerLabelContainerLeaf,a=s.$footerLabelContainerLeaf,r=s.$panelContainerLeaf,i=Ce(t,h,v),l=i.$panelItem,o=i.cloneLabelItem,d=b(e);d<0&&(d=0),0<h.itemCount&&d<h.itemCount?(n&&n.children().eq(d).before(o()),a&&a.children().eq(d).before(o()),r.children().eq(d).before(l),d<=h.currentIndex&&(h.currentIndex++,h.currentName||f(h.currentIndex))):(n&&n.append(o()),a&&a.append(o()),r.append(l)),h.itemCount++},a=function a(e,t){I(e,t),n()},t=function t(e){I(h.itemCount,e)},r=function r(e){t(e),n()},g=function g(e,t){for(var n=v.titleSelector,a=v.fnGetTitleContent,r=v.keepTitleVisible,i=v.fnGetTabItemName,l=v.fnIsTabItemDisabled,o=v.fnIsTabItemHidden,d=le(t),s=0,u=b(e);;){var c=d.find(n).first();if(0===c.length)break;r||c.hide();var f=c.nextUntil(n),C={title:a.call(d,c,f),content:le([]).add(c).add(f),name:i.call(d,c,f),disabled:l.call(d,c,f),hidden:o.call(d,c,f)};I(u+s,C),s++}},i=function i(e){g(h.itemCount,e)};return{insertTabItemWithoutSwitch:I,insertTabItem:a,addTabItemWithoutSwitch:t,addTabItem:r,insert:function l(e,t){g(t,e),n()},insertWithoutSwitch:g,add:function o(e){i(e),n()},addWithoutSwitch:i,remove:function p(){if(arguments.length){for(var e=[],t=0,n=arguments.length;t<n;t++){var a=b(t<0||arguments.length<=t?undefined:arguments[t]);0<=a&&a<h.itemCount&&-1===le.inArray(a,e)&&e.push(a)}if(e.length){e.sort(function(e,t){return t-e}),1<h.itemCount&&0<=le.inArray(h.currentIndex,e)&&(m({exclude:e})||C({exclude:e})||m({includeDisabled:!0,exclude:e})||C({includeDisabled:!0,exclude:e})||m({includeHidden:!0,exclude:e})||C({includeHidden:!0,exclude:e})||m({includeDisabled:!0,includeHidden:!0,exclude:e})||C({includeDisabled:!0,includeHidden:!0,exclude:e}));for(var r=!1,i=0,l=e.length;i<l;i++){var o=e[i],d=u(o),s=c(o);d.remove(),s.remove(),o<h.currentIndex&&(h.currentIndex--,r=!0),h.itemCount--}return 0===h.itemCount?(h.currentIndex=-1,h.currentName=undefined):r&&!h.currentName&&f(h.currentIndex),e.length}}}}}(C,L,x,E,V,j,W,i,r,a),G=z.addTabItem,O=z.insertTabItem,Q=z.add,R=z.addWithoutSwitch,U=z.insert,J=z.remove;if(R(e),r.itemCount||a.createEmptyTab){e.append(l);var K=function ae(e,t){return function(){if(t.fixedHeight){var a=0;e.$panelContainerLeaf.children().each(function(e,t){var n=t.scrollHeight;a<n&&(a=n)}).height(a)}}}(i,a);K(),0<r.itemCount&&(k(D()),-1===r.currentIndex&&k(0)),function re(t,n,e){e.statusHashTemplate&&window&&le(window).on("hashchange",function(){var e=t();n(e)})}(A,V,a),function ie(r,e,i,t){var n,l=t.tabItemNameAttr,a=t.triggerEvents,o=t.delayTriggerEvents,d=t.delayTriggerCancelEvents,s=t.delayTriggerLatency,u=t.disabledLabelItemClass,c=t.hiddenLabelItemClass,f=e.$headerLabelContainerLeaf,C=e.$footerLabelContainerLeaf,b=function b(e){n=setTimeout(function(){r(e),n=undefined},s)},m=function m(){n&&(clearTimeout(n),n=undefined)},h=function h(e){if(e.currentTarget.parentNode===e.delegateTarget){m();var t=le(e.currentTarget),n=t.index();if(n!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var a=t.data(l);b(a||n)}}},v=function v(e){e.currentTarget.parentNode===e.delegateTarget&&le(e.currentTarget).index()!==i.currentIndex&&m()};o&&(f&&f.on(o,"*",h),C&&C.on(o,"*",h),d&&(f&&f.on(d,"*",v),C&&C.on(d,"*",v)));var I=function I(e){if(e.currentTarget.parentNode===e.delegateTarget){m();var t=le(e.currentTarget),n=t.index();if(n!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var a=t.data(l);r(a||n)}}};a&&(f&&f.on(a,"*",I),C&&C.on(a,"*",I))}(V,i,r,a);var M={getCount:d,getCurrentIndex:s,getCurrentName:u,getName:c,getIndexByName:f,isDisabled:m,isEnabled:h,isHidden:v,isVisible:I,getHeaderLabel:g,getFooterLabel:p,getHeaderFooterLabels:L,getPanel:x,getCurrentHeaderLabel:T,getCurrentFooterLabel:$,getCurrentHeaderFooterLabels:w,getCurrentPanel:H,setName:y,setDisabled:N,setEnabled:F,setHidden:S,setVisible:q,updateFixedHeight:K,switchTo:V,switchPrevious:j,switchNext:W,addTabItem:G,insertTabItem:O,add:Q,insert:U,remove:J};e.data("tab-controller",M),l.data("tab-controller",M)}}return le.fn.tab=function(n){return this.each(function(e,t){a(le(t),n)}),this},function t(){le(".tab-region").tab()}(),le});
