!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):e["jquery-tab"]=n(e.jQuery)}(this,function(R){"use strict";R=R&&R.hasOwnProperty("default")?R["default"]:R;var V={triggerEvents:"click",delayTriggerEvents:"",delayTriggerCancelEvents:"",delayTriggerLatency:200,statusFieldSelector:"",statusHashTemplate:"",statusHashSeparator:"&",fixedHeight:!1,mode:"horizontal",activeIndex:0,createEmptyTab:!1,fnShowPanelItem:function(e){return e&&e.show&&e.show()},fnHidePanelItem:function(e){return e&&e.hide&&e.hide()},onBeforeSwitch:undefined,onAfterSwitch:undefined,titleSelector:"h1,h2,h3,h4,h5,h6",fnGetTitleContent:function(e){return e.contents()},keepTitleVisible:!1,tabContainerTemplate:"<div></div>",tabContainerClass:"tab-container",labelContainerTemplate:"<div></div>",labelContainerClass:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemTemplate:"<label></label>",labelItemClass:"label-item",panelContainerTemplate:"<div></div>",panelContainerClass:"panel-container",panelItemTemplate:"<div></div>",panelItemClass:"panel-item"};function g(e){for(var n,a=e;(n=a.children()).length;)a=n;return a.eq(0)}function b(e){var n=R(e.labelContainerTemplate).addClass(e.labelContainerClass).attr("role","tablist");return"vertical"===e.mode&&n.attr("aria-orientation","vertical"),{$labelContainer:n,$labelContainerLeaf:g(n)}}function Q(e){var n=R(e.tabContainerTemplate).addClass(e.tabContainerClass);"horizontal"===e.mode?n.addClass(e.horizontalTabContainerClass):"vertical"===e.mode&&n.addClass(e.verticalTabContainerClass);var a=function u(e){var n,a;if(e.showHeaderLabelContainer){var t=b(e),r=t.$labelContainer,i=t.$labelContainerLeaf;r.addClass(e.headerLabelContainerClass),n=r,a=i}return{$headerLabelContainer:n,$headerLabelContainerLeaf:a}}(e),t=a.$headerLabelContainer,r=a.$headerLabelContainerLeaf;t&&n.append(t);var i=function f(e){var n=R(e.panelContainerTemplate).addClass(e.panelContainerClass);return{$panelContainer:n,$panelContainerLeaf:g(n)}}(e),l=i.$panelContainer,o=i.$panelContainerLeaf;n.append(l);var d=function C(e){var n,a;if(e.showFooterLabelContainer){var t=b(e),r=t.$labelContainer,i=t.$labelContainerLeaf;r.addClass(e.footerLabelContainerClass),n=r,a=i}return{$footerLabelContainer:n,$footerLabelContainerLeaf:a}}(e),s=d.$footerLabelContainer,c=d.$footerLabelContainerLeaf;return s&&n.append(s),{$tabContainer:n,$headerLabelContainer:t,$headerLabelContainerLeaf:r,$panelContainer:l,$panelContainerLeaf:o,$footerLabelContainer:s,$footerLabelContainerLeaf:c}}function U(e,n,a,t){var r=function I(e,n){var a=R(n.labelItemTemplate).addClass(n.labelItemClass).addClass(n.inactiveLabelItemClass).attr("role","tab"),t=g(a);return t.empty().append(e),{$labelItem:a,$labelItemLeaf:t}}(e,t),i=r.$labelItem,l=r.$labelItemLeaf,o=function h(e,n){var a=R(n.panelItemTemplate).addClass(n.panelItemClass).addClass(n.inactivePanelItemClass).attr("role","tabpanel"),t=g(a);return t.append(e),{$panelItem:a,$panelItemLeaf:t}}(n,t),d=o.$panelItem,s=o.$panelItemLeaf,c=a.containerId,u=a.nextItemId;a.nextItemId++;var f=0,C="__jquery-tab-label__".concat(c,"__").concat(u),b="__jquery-tab-panel__".concat(c,"__").concat(u),v="".concat(C,"__").concat(f),m=b,p=function p(){var e="".concat(C,"__").concat(f++);return e===v?i:i.clone().attr("id",e)};return i.attr("id",v).attr("aria-controls",b),d.attr("id",m).attr("aria-labelledby",v),{$labelItem:i,$labelItemLeaf:l,$panelItem:d,$panelItemLeaf:s,cloneLabelItem:p}}var D="#",J=/[.?*+\\\(\)\[\]\{\}]/g;var K=0;function t(e,n){var a=e.data(),d=function B(e,n,a){var t=R.extend({},e,n,a),r=t.tabContainerClass,i=t.labelContainerClass,l=t.labelItemClass,o=t.panelItemClass;return R.extend(t,{horizontalTabContainerClass:r+"-horizontal",verticalTabContainerClass:r+"-vertical",headerLabelContainerClass:i+"-header",footerLabelContainerClass:i+"-footer",activeLabelItemClass:l+"-active",inactiveLabelItemClass:l+"-inactive",activePanelItemClass:o+"-active",inactivePanelItemClass:o+"-inactive"})}(V,a,n),l={containerId:K++,nextItemId:0,itemCount:0,currentIndex:-1},t=R.extend({$region:e},Q(d)),i=t.$tabContainer,o=t.$headerLabelContainerLeaf,s=t.$panelContainerLeaf,c=t.$footerLabelContainerLeaf,r=function G(e,n){var a=e.$headerLabelContainerLeaf,t=e.$footerLabelContainerLeaf,r=e.$panelContainerLeaf,i=function i(e,n){if(!isFinite(n))throw new Error("invalid index");return e.children(":eq("+n+")")},l=function l(e){return a?i(a,e):R([])},o=function o(e){return t?i(t,e):R([])},d=function d(e){return l(e).add(o(e))};return{getCount:function s(){return n.itemCount},getCurrentIndex:function c(){return n.currentIndex},getLabel:i,getHeaderLabel:l,getFooterLabel:o,getHeaderFooterLabels:d,getPanel:function u(e){if(!isFinite(e))throw new Error("invalid index");return r.children(":eq("+e+")")}}}(t,l),u=r.getCount,f=r.getCurrentIndex,C=(r.getLabel,r.getHeaderLabel),b=r.getFooterLabel,v=r.getHeaderFooterLabels,m=r.getPanel,p=function O(e,n,a){var t,r,i=e.$region,l=e.$tabContainer,o=a.statusFieldSelector,d=a.statusHashTemplate,s=a.statusHashSeparator,c=a.fnSaveIndex,u=a.fnLoadIndex,f=a.activeIndex,C=i.find(o);C.length||(C=R(o)),d&&(t=new RegExp(d.replace(J,"\\$&")+"-?\\d+"),r=new RegExp(d.replace(J,"\\$&")+"(-?\\d+)"));var b=function b(){var e=location.hash.match(r);return e&&e[1]?parseInt(e[1]):-1};return{saveIndex:function v(e){if(C.val(e),d){var n=location.hash,a=d+e;-1<n.indexOf(d)?n=n.replace(t,a):(n!==D&&(n.length?n+=s:n=D),n+=a),location.replace(n)}c&&c.call(l,e)},loadIndex:function m(){var e=n.itemCount,a=-1;return 0===e||(C.each(function(){var e=R(this).val();if("number"==typeof e)return a=e,!1;if(e.length){var n=parseInt(e);if(isFinite(n)&&!isNaN(n))return a=parseInt(e),!1}}),(-1===a||isNaN(a))&&d&&(a=b()),(-1===a||isNaN(a))&&u&&(a=parseInt(u.call(l))),(-1===a||isNaN(a))&&(a=Number(f)||0),a<0?a=0:e<=a&&(a=e-1)),a},parseHashIndex:b}}(t,l,d),I=p.saveIndex,h=p.loadIndex,g=p.parseHashIndex,L=function L(e){var n=l.currentIndex;"function"==typeof d.onBeforeSwitch&&d.onBeforeSwitch.call(i,n,e);var a=v(e),t=m(e),r=t.siblings();!function o(e,n,a){var t=a.activeLabelItemClass,r=a.inactiveLabelItemClass,i=a.activePanelItemClass,l=a.inactivePanelItemClass;e.removeClass(r).addClass(t).attr("aria-selected","true").attr("aria-expanded","true"),e.siblings().removeClass(t).addClass(r).attr("aria-selected","false").attr("aria-expanded","false"),n.removeClass(l).addClass(i).attr("aria-hidden","false"),n.siblings().removeClass(i).addClass(l).attr("aria-hidden","true")}(a,t,d),"function"==typeof d.fnHidePanelItem&&d.fnHidePanelItem.call(r,r),"function"==typeof d.fnShowPanelItem&&d.fnShowPanelItem.call(t,t),l.currentIndex=e,"function"==typeof d.onAfterSwitch&&d.onAfterSwitch.call(i,n,e)},x=function x(e){L(e),I(e)},$=function $(e,n,a){var t=U(e,n,l,d),r=t.$panelItem,i=t.cloneLabelItem;-1<l.currentIndex&&"function"==typeof d.fnHidePanelItem&&d.fnHidePanelItem.call(r,r),a<0&&(a=0),0<l.itemCount&&a<l.itemCount?(o&&o.children(":eq("+a+")").before(i()),c&&c.children(":eq("+a+")").before(i()),s.children(":eq("+a+")").before(r),a<=l.currentIndex&&I(++l.currentIndex)):(o&&o.append(i()),c&&c.append(i()),s.append(r)),l.itemCount++},T=function T(e,n,a){$(e,n,a),-1===l.currentIndex&&l.itemCount&&x(0)},y=function y(e,n){$(e,n,l.itemCount),-1===l.currentIndex&&l.itemCount&&x(0)},w=function w(e,n){for(var a=R(e),t=0;;){var r=a.find(d.titleSelector).first();if(0===r.length)break;d.keepTitleVisible||r.hide();var i=d.fnGetTitleContent.call(r,r),l=r.add(r.nextUntil(d.titleSelector));$(i,l,n+t),t++}},H=function H(e,n){w(e,n),-1===l.currentIndex&&l.itemCount&&x(0)},E=function E(e){w(e,l.itemCount)},P=function P(e){E(e),-1===l.currentIndex&&l.itemCount&&x(0)},S=function S(e){if(!(e===undefined||!isFinite(e)||e<0||e>=l.itemCount)){var n=v(e),a=m(e);return n.remove(),a.remove(),l.itemCount--,e<l.currentIndex?I(--l.currentIndex):e===l.currentIndex&&(l.currentIndex===l.itemCount?x(l.currentIndex-1):x(l.currentIndex)),a}};if(E(e),l.itemCount||d.createEmptyTab){e.append(i);var _,F=function F(){if(d.fixedHeight){var n=0;s.children().each(function(){var e=R(this)[0].scrollHeight;n<e&&(n=e)}).height(n)}};F(),L(h()),d.statusHashTemplate&&window&&R(window).on("hashchange",function(){var e=g();-1<e&&e!==l.currentIndex&&x(e)});var q=function q(e){_=setTimeout(function(){x(e)},d.delayTriggerLatency)},N=function N(){_&&(clearTimeout(_),_=undefined)},j=function j(e){if(e.currentTarget.parentNode===e.delegateTarget){N();var n=R(e.currentTarget).index();n!==l.currentIndex&&q(n)}},z=function z(e){e.currentTarget.parentNode===e.delegateTarget&&(R(e.currentTarget).index()!==l.currentIndex&&N())};d.delayTriggerEvents&&(o&&o.on(d.delayTriggerEvents,"*",j),c&&c.on(d.delayTriggerEvents,"*",j),d.delayTriggerCancelEvents&&(o&&o.on(d.delayTriggerCancelEvents,"*",z),c&&c.on(d.delayTriggerCancelEvents,"*",z)));var k=function k(e){if(e.currentTarget.parentNode===e.delegateTarget){N();var n=R(e.currentTarget).index();n!==l.currentIndex&&x(n)}};d.triggerEvents&&(o&&o.on(d.triggerEvents,"*",k),c&&c.on(d.triggerEvents,"*",k));var A={getCount:u,getCurrentIndex:f,getHeaderLabel:C,getFooterLabel:b,getHeaderFooterLabels:v,getPanel:m,updateFixedHeight:F,switchTo:x,addTabItem:y,insertTabItem:T,add:P,insert:H,remove:S};e.data("tab-controller",A),i.data("tab-controller",A)}}return R.fn.tab=function(a){return this.each(function(e,n){t(R(n),a)}),this},function e(){R(".tab-region").tab()}(),R});
