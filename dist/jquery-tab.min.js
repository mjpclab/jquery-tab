!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e["jquery-tab"]=t(e.jQuery)}(this,function(ae){"use strict";ae=ae&&ae.hasOwnProperty("default")?ae["default"]:ae;var ne={triggerEvents:"click",delayTriggerEvents:"",delayTriggerCancelEvents:"",delayTriggerLatency:200,statusFieldSelector:"",statusHashTemplate:"",statusHashSeparator:"&",fixedHeight:!1,mode:"horizontal",activePosition:0,createEmptyTab:!1,onBeforeSwitch:undefined,onAfterSwitch:undefined,titleSelector:"h1,h2,h3,h4,h5,h6",fnGetTitleContent:function(e){return e.contents()},keepTitleVisible:!1,fnGetTabItemName:function(e){return e.attr("data-tab-item-name")},fnIsTabItemDisabled:function(e){var t=e.attr("data-tab-item-disabled");return t!==undefined&&"false"!==t},fnIsTabItemHidden:function(e){var t=e.attr("data-tab-item-hidden");return t!==undefined&&"false"!==t},tabContainerTemplate:"<div></div>",tabContainerClass:"tab-container",labelContainerTemplate:"<div></div>",labelContainerClass:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemTemplate:"<label></label>",labelItemClass:"label-item",panelContainerTemplate:"<div></div>",panelContainerClass:"panel-container",panelItemTemplate:"<div></div>",panelItemClass:"panel-item"};function P(e){for(var t,a=e;(t=a.children()).length;)a=t;return a.eq(0)}function b(e){var t=ae(e.labelContainerTemplate).addClass(e.labelContainerClass).attr("role","tablist");return"vertical"===e.mode&&t.attr("aria-orientation","vertical"),{$labelContainer:t,$labelContainerLeaf:P(t)}}function re(e){var t=ae(e.tabContainerTemplate).addClass(e.tabContainerClass);"horizontal"===e.mode?t.addClass(e.horizontalTabContainerClass):"vertical"===e.mode&&t.addClass(e.verticalTabContainerClass);var a=function c(e){var t,a;if(e.showHeaderLabelContainer){var n=b(e),r=n.$labelContainer,i=n.$labelContainerLeaf;r.addClass(e.headerLabelContainerClass),t=r,a=i}return{$headerLabelContainer:t,$headerLabelContainerLeaf:a}}(e),n=a.$headerLabelContainer,r=a.$headerLabelContainerLeaf;n&&t.append(n);var i=function f(e){var t=ae(e.panelContainerTemplate).addClass(e.panelContainerClass);return{$panelContainer:t,$panelContainerLeaf:P(t)}}(e),l=i.$panelContainer,o=i.$panelContainerLeaf;t.append(l);var d=function C(e){var t,a;if(e.showFooterLabelContainer){var n=b(e),r=n.$labelContainer,i=n.$labelContainerLeaf;r.addClass(e.footerLabelContainerClass),t=r,a=i}return{$footerLabelContainer:t,$footerLabelContainerLeaf:a}}(e),s=d.$footerLabelContainer,u=d.$footerLabelContainerLeaf;return s&&t.append(s),{$tabContainer:t,$headerLabelContainer:n,$headerLabelContainerLeaf:r,$panelContainer:l,$panelContainerLeaf:o,$footerLabelContainer:s,$footerLabelContainerLeaf:u}}var ie,e,le="#",oe=/[.?*+\\\(\)\[\]\{\}]/g;function de(e){return-1!==e&&e!==undefined&&null!==e&&""!==e}function se(e,t,a){var n=e.name,r=e.disabled,i=e.hidden,l=a.tabItemNameAttr,o=a.disabledLabelItemClass,d=a.disabledPanelItemClass,s=a.hiddenLabelItemClass,u=a.hiddenPanelItemClass,c=function w(e,t){var a=ae(t.labelItemTemplate).addClass(t.labelItemClass).attr("role","tab"),n=P(a);return n.append(e.title),{$labelItem:a,$labelItemLeaf:n}}(e,a),f=c.$labelItem,C=c.$labelItemLeaf,b=function H(e,t){var a=ae(t.panelItemTemplate).addClass(t.panelItemClass).attr("role","tabpanel"),n=P(a);return n.append(e.content),{$panelItem:a,$panelItemLeaf:n}}(e,a),m=b.$panelItem,h=b.$panelItemLeaf;n&&(f.attr(l,n),m.attr(l,n)),r&&(f.addClass(o),m.addClass(d)),i&&(f.addClass(s),m.addClass(u));var v=t.containerId,I=t.nextItemId;t.nextItemId++;var p=0,g="__jquery-tab-label__".concat(v,"__").concat(I),L="__jquery-tab-panel__".concat(v,"__").concat(I),x="".concat(g,"__").concat(p),T=L,$=function $(){var e="".concat(g,"__").concat(p++);return e===x?f:f.clone().attr("id",e)};return f.attr("id",x).attr("aria-controls",L),m.attr("id",T).attr("aria-labelledby",x),{$labelItem:f,$labelItemLeaf:C,$panelItem:m,$panelItemLeaf:h,cloneLabelItem:$}}(e=ie||(ie={}))[e.Backward=0]="Backward",e[e.Forward=1]="Forward";var ue=0;function n(e,t){var a=e.data(),n=function U(e,t,a){var n=ae.extend({},e,t,a),r=n.tabContainerClass,i=n.labelContainerClass,l=n.labelItemClass,o=n.panelItemClass;return ae.extend(n,{horizontalTabContainerClass:r+"-horizontal",verticalTabContainerClass:r+"-vertical",headerLabelContainerClass:i+"-header",footerLabelContainerClass:i+"-footer",tabItemNameAttr:"data-tab-item-name",activeLabelItemClass:l+"-active",inactiveLabelItemClass:l+"-inactive",disabledLabelItemClass:l+"-disabled",hiddenLabelItemClass:l+"-hidden",activePanelItemClass:o+"-active",inactivePanelItemClass:o+"-inactive",disabledPanelItemClass:o+"-disabled",hiddenPanelItemClass:o+"-hidden"})}(ne,a,t),r={containerId:ue++,nextItemId:0,itemCount:0,currentIndex:-1},i=ae.extend({$region:e},re(n)),l=i.$tabContainer,o=function J(e,a,t){var n=e.$headerLabelContainerLeaf,r=e.$footerLabelContainerLeaf,i=e.$panelContainerLeaf,l=t.tabItemNameAttr,o=t.disabledPanelItemClass,d=t.hiddenPanelItemClass,s=function s(e){return i.children().eq(e).attr(l)},u=function u(n){var r=-1;return i.children().each(function(e,t){var a=ae(t);if(a.attr(l)===n)return r=a.index(),!1}),r},c=function c(e){return"number"==typeof e?e:isFinite(e)?parseInt(e):e!==undefined?u(e):-1},f=function f(e){if("number"==typeof e)return{index:e,name:s(e)};if(isFinite(e)){var t=parseInt(e);return{index:t,name:s(t)}}return e?{index:u(e),name:e}:{index:-1,name:undefined}},C=function C(e){var t=c(e);if(-1<t&&t<a.itemCount)return i.children().eq(t).hasClass(o)},b=function b(e){var t=c(e);if(-1<t&&t<a.itemCount)return i.children().eq(t).hasClass(d)},m=function m(e){if(n){var t=c(e);return n.children().eq(t)}return ae([])},h=function h(e){if(r){var t=c(e);return r.children().eq(t)}return ae([])},v=function v(e){var t=c(e);return m(t).add(h(t))},I=function I(e){var t=c(e);return i.children().eq(t)},p=function p(){return m(a.currentIndex)},g=function g(){return h(a.currentIndex)},L=function L(){return v(a.currentIndex)},x=function x(){return I(a.currentIndex)};return{getCount:function T(){return a.itemCount},getCurrentIndex:function $(){return a.currentIndex},getCurrentName:function w(){return a.currentName},getName:s,getIndexByName:u,positionToIndex:c,parsePosition:f,isDisabled:C,isHidden:b,getHeaderLabel:m,getFooterLabel:h,getHeaderFooterLabels:v,getPanel:I,getCurrentHeaderLabel:p,getCurrentFooterLabel:g,getCurrentHeaderFooterLabels:L,getCurrentPanel:x}}(i,r,n),d=o.getCount,s=o.getCurrentIndex,u=o.getCurrentName,c=o.getName,f=o.getIndexByName,C=o.positionToIndex,b=o.parsePosition,m=o.isDisabled,h=o.isHidden,v=o.getHeaderLabel,I=o.getFooterLabel,p=o.getHeaderFooterLabels,g=o.getPanel,L=o.getCurrentHeaderLabel,x=o.getCurrentFooterLabel,T=o.getCurrentHeaderFooterLabels,$=o.getCurrentPanel,w=function K(e,a,n,t){var r=t.tabItemNameAttr,i=t.disabledLabelItemClass,l=t.disabledPanelItemClass,o=t.hiddenLabelItemClass,d=t.hiddenPanelItemClass;return{setName:function s(e,t){a(e).attr(r,t),n(e).attr(r,t)},setDisabled:function u(e,t){a(e).toggleClass(i,t),n(e).toggleClass(l,t)},setHidden:function c(e,t){a(e).toggleClass(o,t),n(e).toggleClass(d,t)}}}(0,p,g,n),H=w.setName,P=w.setDisabled,N=w.setHidden,y=function M(e,t){var n,a=e.$region,r=e.$tabContainer,i=t.statusFieldSelector,l=t.statusHashTemplate,o=t.statusHashSeparator,d=t.fnSavePosition,s=t.fnLoadPosition,u=t.activePosition,c=a.find(i);c.length||(c=ae(i)),l&&(n=new RegExp(l.replace(oe,"\\$&")+"([-\\w]+)"));var f=function f(){var e=location.hash.match(n);return e&&e[1]?e[1]:-1};return{savePosition:function(e){if(c.val(e),l){var t=location.hash,a=l+e;-1<t.indexOf(l)?t=t.replace(n,a):(t!==le&&(t.length?t+=o:t=le),t+=a),location.replace(t)}d&&d.call(r,e)},loadPosition:function C(){var t=-1;return c.each(function(){var e=ae(this).val();if("number"==typeof e||e.length)return t=e,!1}),de(t)?t:l&&de(t=f())?t:s&&de(t=s.call(r))?t:de(u)?u:0},parseHashPosition:f}}(i,n),F=y.savePosition,S=y.loadPosition,q=y.parseHashPosition,_=function X(u,c,f,r,I,p,g){var C=function C(e){var t=u(e),a=t.index,n=t.name;if(!(a<0||a>=p.itemCount||a===p.currentIndex)){var r=I.$tabContainer,i=p.currentIndex,l=p.currentName,o=g.onBeforeSwitch,d=g.onAfterSwitch;return"function"==typeof o&&o.call(r,{index:i,name:l},{index:a,name:n}),function s(e,t,a){var n=a.activeLabelItemClass,r=a.inactiveLabelItemClass,i=a.activePanelItemClass,l=a.inactivePanelItemClass;e.removeClass(r).addClass(n).attr("aria-selected","true").attr("aria-expanded","true"),e.siblings().removeClass(n).addClass(r).attr("aria-selected","false").attr("aria-expanded","false"),t.removeClass(l).addClass(i).attr("aria-hidden","false"),t.siblings().removeClass(i).addClass(l).attr("aria-hidden","true")}(c(a),f(a),g),p.currentIndex=a,p.currentName=n,"function"==typeof d&&d.call(r,{index:i,name:l},{index:a,name:n}),{index:a,name:n}}},L=function L(e){var t=C(e);if(t){var a=t.index,n=t.name;r(n||a)}return t},x=function x(e,t){var a=t||{},n=a.includeDisabled,r=a.includeHidden,i=a.loop,l=I.$panelContainer.children(),o=p.itemCount,d=p.currentIndex,s=g.disabledPanelItemClass,u=g.hiddenPanelItemClass,c=-1;i?c=0<=d&&d<o?o-1:o:e===ie.Backward?c=d:e===ie.Forward&&(c=o-d-1);for(var f=e===ie.Backward?-1:1,C=1;C<=c;C++){var b=(d+C*f+o)%o,m=l.eq(b),h=m.hasClass(s),v=m.hasClass(u);if(!h&&!v||n&&!v||!h&&r||n&&r)return L(b)}};return{switchToWithoutSave:C,switchTo:L,switchPrevious:function t(e){return x(ie.Backward,e)},switchNext:function a(e){return x(ie.Forward,e)}}}(b,p,g,F,i,r,n),D=_.switchToWithoutSave,B=_.switchTo,k=_.switchPrevious,E=_.switchNext,j=function Y(b,i,l,s,e,o,d,u,c,m){var a=function a(){-1===c.currentIndex&&c.itemCount&&e(0)},h=function h(e,t){var a=u.$headerLabelContainerLeaf,n=u.$footerLabelContainerLeaf,r=u.$panelContainerLeaf,i=se(t,c,m),l=i.$panelItem,o=i.cloneLabelItem,d=b(e);d<0&&(d=0),0<c.itemCount&&d<c.itemCount?(a&&a.children().eq(d).before(o()),n&&n.children().eq(d).before(o()),r.children().eq(d).before(l),d<=c.currentIndex&&(c.currentIndex++,c.currentName||s(c.currentIndex))):(a&&a.append(o()),n&&n.append(o()),r.append(l)),c.itemCount++},n=function n(e,t){h(e,t),a()},t=function t(e){h(c.itemCount,e)},r=function r(e){t(e),a()},v=function v(e,t){for(var a=m.titleSelector,n=m.fnGetTitleContent,r=m.keepTitleVisible,i=m.fnGetTabItemName,l=m.fnIsTabItemDisabled,o=m.fnIsTabItemHidden,d=ae(t),s=0,u=b(e);;){var c=d.find(a).first();if(0===c.length)break;r||c.hide();var f=c.nextUntil(a),C={title:n.call(d,c,f),content:ae([]).add(c).add(f),name:i.call(d,c,f),disabled:l.call(d,c,f),hidden:o.call(d,c,f)};h(u+s,C),s++}},f=function f(e){v(c.itemCount,e)};return{insertTabItemWithoutSwitch:h,insertTabItem:n,addTabItemWithoutSwitch:t,addTabItem:r,insert:function C(e,t){v(t,e),a()},insertWithoutSwitch:v,add:function I(e){f(e),a()},addWithoutSwitch:f,remove:function p(e){var t=b(e);if(!(t<0||t>=c.itemCount)){var a,n=i(t),r=l(t);return 1<c.itemCount&&t===c.currentIndex&&(a=d()||o()||d({includeDisabled:!0})||o({includeDisabled:!0})||d({includeHidden:!0})||o({includeHidden:!0})||d({includeDisabled:!0,includeHidden:!0})||o({includeDisabled:!0,includeHidden:!0})),n.remove(),r.remove(),c.itemCount--,0===c.itemCount?(c.currentIndex=-1,c.currentName=undefined):a&&a.index>t?(c.currentIndex=a.index-1,c.currentName||s(c.currentIndex)):t<c.currentIndex&&(c.currentIndex--,c.currentName||s(c.currentIndex)),r}}}}(C,p,g,F,B,k,E,i,r,n),A=j.addTabItem,W=j.insertTabItem,z=j.add,G=j.addWithoutSwitch,O=j.insert,V=j.remove;if(G(e),r.itemCount||n.createEmptyTab){e.append(l);var Q=function Z(e,t){return function(){if(t.fixedHeight){var n=0;e.$panelContainerLeaf.children().each(function(e,t){var a=t.scrollHeight;n<a&&(n=a)}).height(n)}}}(i,n);Q(),0<r.itemCount&&(D(S()),-1===r.currentIndex&&D(0)),function ee(t,a,e){e.statusHashTemplate&&window&&ae(window).on("hashchange",function(){var e=t();a(e)})}(q,B,n),function te(r,e,i,t){var a,l=t.tabItemNameAttr,n=t.triggerEvents,o=t.delayTriggerEvents,d=t.delayTriggerCancelEvents,s=t.delayTriggerLatency,u=t.disabledLabelItemClass,c=t.hiddenLabelItemClass,f=e.$headerLabelContainerLeaf,C=e.$footerLabelContainerLeaf,b=function b(e){a=setTimeout(function(){r(e),a=undefined},s)},m=function m(){a&&(clearTimeout(a),a=undefined)},h=function h(e){if(e.currentTarget.parentNode===e.delegateTarget){m();var t=ae(e.currentTarget),a=t.index();if(a!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var n=t.attr(l);b(n||a)}}},v=function v(e){e.currentTarget.parentNode===e.delegateTarget&&ae(e.currentTarget).index()!==i.currentIndex&&m()};o&&(f&&f.on(o,"*",h),C&&C.on(o,"*",h),d&&(f&&f.on(d,"*",v),C&&C.on(d,"*",v)));var I=function I(e){if(e.currentTarget.parentNode===e.delegateTarget){m();var t=ae(e.currentTarget),a=t.index();if(a!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var n=t.attr(l);r(n||a)}}};n&&(f&&f.on(n,"*",I),C&&C.on(n,"*",I))}(B,i,r,n);var R={getCount:d,getCurrentIndex:s,getCurrentName:u,getName:c,getIndexByName:f,isDisabled:m,isHidden:h,getHeaderLabel:v,getFooterLabel:I,getHeaderFooterLabels:p,getPanel:g,getCurrentHeaderLabel:L,getCurrentFooterLabel:x,getCurrentHeaderFooterLabels:T,getCurrentPanel:$,setName:H,setDisabled:P,setHidden:N,updateFixedHeight:Q,switchTo:B,switchPrevious:k,switchNext:E,addTabItem:A,insertTabItem:W,add:z,insert:O,remove:V};e.data("tab-controller",R),l.data("tab-controller",R)}}return ae.fn.tab=function(a){return this.each(function(e,t){n(ae(t),a)}),this},function t(){ae(".tab-region").tab()}(),ae});
