!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e["jquery-tab"]=t(e.jQuery)}(this,function(Z){"use strict";Z=Z&&Z.hasOwnProperty("default")?Z["default"]:Z;var ee={triggerEvents:"click",delayTriggerEvents:"",delayTriggerCancelEvents:"",delayTriggerLatency:200,statusFieldSelector:"",statusHashTemplate:"",statusHashSeparator:"&",fixedHeight:!1,mode:"horizontal",activePosition:0,createEmptyTab:!1,fnShowPanelItem:function(e){return e&&e.show&&e.show()},fnHidePanelItem:function(e){return e&&e.hide&&e.hide()},onBeforeSwitch:undefined,onAfterSwitch:undefined,titleSelector:"h1,h2,h3,h4,h5,h6",fnGetTitleContent:function(e){return e.contents()},keepTitleVisible:!1,fnGetTabItemName:function(e){return e.attr("data-tab-item-name")},fnIsTabItemDisabled:function(e){var t=e.attr("data-tab-item-disabled");return t!==undefined&&"false"!==t},fnIsTabItemHidden:function(e){var t=e.attr("data-tab-item-hidden");return t!==undefined&&"false"!==t},tabContainerTemplate:"<div></div>",tabContainerClass:"tab-container",labelContainerTemplate:"<div></div>",labelContainerClass:"label-container",showHeaderLabelContainer:!0,showFooterLabelContainer:!1,labelItemTemplate:"<label></label>",labelItemClass:"label-item",panelContainerTemplate:"<div></div>",panelContainerClass:"panel-container",panelItemTemplate:"<div></div>",panelItemClass:"panel-item"};function w(e){for(var t,a=e;(t=a.children()).length;)a=t;return a.eq(0)}function b(e){var t=Z(e.labelContainerTemplate).addClass(e.labelContainerClass).attr("role","tablist");return"vertical"===e.mode&&t.attr("aria-orientation","vertical"),{$labelContainer:t,$labelContainerLeaf:w(t)}}function te(e){var t=Z(e.tabContainerTemplate).addClass(e.tabContainerClass);"horizontal"===e.mode?t.addClass(e.horizontalTabContainerClass):"vertical"===e.mode&&t.addClass(e.verticalTabContainerClass);var a=function c(e){var t,a;if(e.showHeaderLabelContainer){var n=b(e),r=n.$labelContainer,i=n.$labelContainerLeaf;r.addClass(e.headerLabelContainerClass),t=r,a=i}return{$headerLabelContainer:t,$headerLabelContainerLeaf:a}}(e),n=a.$headerLabelContainer,r=a.$headerLabelContainerLeaf;n&&t.append(n);var i=function f(e){var t=Z(e.panelContainerTemplate).addClass(e.panelContainerClass);return{$panelContainer:t,$panelContainerLeaf:w(t)}}(e),l=i.$panelContainer,o=i.$panelContainerLeaf;t.append(l);var d=function m(e){var t,a;if(e.showFooterLabelContainer){var n=b(e),r=n.$labelContainer,i=n.$labelContainerLeaf;r.addClass(e.footerLabelContainerClass),t=r,a=i}return{$footerLabelContainer:t,$footerLabelContainerLeaf:a}}(e),s=d.$footerLabelContainer,u=d.$footerLabelContainerLeaf;return s&&t.append(s),{$tabContainer:t,$headerLabelContainer:n,$headerLabelContainerLeaf:r,$panelContainer:l,$panelContainerLeaf:o,$footerLabelContainer:s,$footerLabelContainerLeaf:u}}var ae="#",ne=/[.?*+\\\(\)\[\]\{\}]/g;function re(e){return-1!==e&&e!==undefined&&null!==e&&""!==e}function ie(e,t,a){var n=e.name,r=e.disabled,i=e.hidden,l=a.tabItemNameAttr,o=a.disabledLabelItemClass,d=a.disabledPanelItemClass,s=a.hiddenLabelItemClass,u=a.hiddenPanelItemClass,c=function P(e,t){var a=Z(t.labelItemTemplate).addClass(t.labelItemClass).addClass(t.inactiveLabelItemClass).attr("role","tab"),n=w(a);return n.append(e.title),{$labelItem:a,$labelItemLeaf:n}}(e,a),f=c.$labelItem,m=c.$labelItemLeaf,b=function H(e,t){var a=Z(t.panelItemTemplate).addClass(t.panelItemClass).addClass(t.inactivePanelItemClass).attr("role","tabpanel"),n=w(a);return n.append(e.content),{$panelItem:a,$panelItemLeaf:n}}(e,a),C=b.$panelItem,I=b.$panelItemLeaf;n&&(f.attr(l,n),C.attr(l,n)),r&&(f.addClass(o),C.addClass(d)),i&&(f.addClass(s),C.addClass(u));var h=t.containerId,v=t.nextItemId;t.nextItemId++;var p=0,g="__jquery-tab-label__".concat(h,"__").concat(v),L="__jquery-tab-panel__".concat(h,"__").concat(v),T="".concat(g,"__").concat(p),x=L,$=function $(){var e="".concat(g,"__").concat(p++);return e===T?f:f.clone().attr("id",e)};return f.attr("id",T).attr("aria-controls",L),C.attr("id",x).attr("aria-labelledby",T),{$labelItem:f,$labelItemLeaf:m,$panelItem:C,$panelItemLeaf:I,cloneLabelItem:$}}var le=0;function n(e,t){var a=e.data(),n=function V(e,t,a){var n=Z.extend({},e,t,a),r=n.tabContainerClass,i=n.labelContainerClass,l=n.labelItemClass,o=n.panelItemClass;return Z.extend(n,{horizontalTabContainerClass:r+"-horizontal",verticalTabContainerClass:r+"-vertical",headerLabelContainerClass:i+"-header",footerLabelContainerClass:i+"-footer",tabItemNameAttr:"data-tab-item-name",activeLabelItemClass:l+"-active",inactiveLabelItemClass:l+"-inactive",disabledLabelItemClass:l+"-disabled",hiddenLabelItemClass:l+"-hidden",activePanelItemClass:o+"-active",inactivePanelItemClass:o+"-inactive",disabledPanelItemClass:o+"-disabled",hiddenPanelItemClass:o+"-hidden"})}(ee,a,t),r={containerId:le++,nextItemId:0,itemCount:0,currentIndex:-1},i=Z.extend({$region:e},te(n)),l=i.$tabContainer,o=function Q(e,t,a){var n=e.$headerLabelContainerLeaf,r=e.$footerLabelContainerLeaf,i=e.$panelContainer,l=e.$panelContainerLeaf,o=a.tabItemNameAttr,d=a.disabledPanelItemClass,s=a.hiddenPanelItemClass,u=function u(e){return l.children().eq(e).attr(o)},c=function c(n){var r=-1;return i.children().each(function(e,t){var a=Z(t);if(a.attr(o)===n)return r=a.index(),!1}),r},f=function f(e){return"number"==typeof e?e:isFinite(e)?parseInt(e):e!==undefined?c(e):-1},m=function m(e){if("number"==typeof e)return{index:e,name:u(e)};if(isFinite(e)){var t=parseInt(e);return{index:t,name:u(t)}}return e?{index:c(e),name:e}:{index:-1,name:undefined}},b=function b(e){var t=f(e);if(-1<t)return l.children().eq(t).hasClass(d)},C=function C(e){var t=f(e);if(-1<t)return l.children().eq(t).hasClass(s)},I=function I(e){if(n){var t=f(e);return n.children().eq(t)}return Z([])},h=function h(e){if(r){var t=f(e);return r.children().eq(t)}return Z([])},v=function v(e){var t=f(e);return I(t).add(h(t))},p=function p(e){var t=f(e);return l.children().eq(t)},g=function g(){return I(t.currentIndex)},L=function L(){return h(t.currentIndex)},T=function T(){return v(t.currentIndex)},x=function x(){return p(t.currentIndex)};return{getCount:function $(){return t.itemCount},getCurrentIndex:function P(){return t.currentIndex},getTabItemName:u,getTabItemIndexByName:c,positionToIndex:f,parsePosition:m,isTabItemDisabled:b,isTabItemHidden:C,getHeaderLabel:I,getFooterLabel:h,getHeaderFooterLabels:v,getPanel:p,getCurrentHeaderLabel:g,getCurrentFooterLabel:L,getCurrentHeaderFooterLabels:T,getCurrentPanel:x}}(i,r,n),d=o.getCount,s=o.getCurrentIndex,u=o.getTabItemName,c=o.getTabItemIndexByName,f=o.positionToIndex,m=o.parsePosition,b=o.isTabItemDisabled,C=o.isTabItemHidden,I=o.getHeaderLabel,h=o.getFooterLabel,v=o.getHeaderFooterLabels,p=o.getPanel,g=o.getCurrentHeaderLabel,L=o.getCurrentFooterLabel,T=o.getCurrentHeaderFooterLabels,x=o.getCurrentPanel,$=function R(e,a,n,t){var r=t.tabItemNameAttr,i=t.disabledLabelItemClass,l=t.disabledPanelItemClass,o=t.hiddenLabelItemClass,d=t.hiddenPanelItemClass;return{setTabItemName:function s(e,t){a(t).attr(r,e),n(t).attr(r,e)},setTabItemDisabled:function u(e,t){a(t).toggleClass(i,e),n(t).toggleClass(l,e)},setTabItemHidden:function c(e,t){a(t).toggleClass(o,e),n(t).toggleClass(d,e)}}}(0,v,p,n),P=$.setTabItemName,H=$.setTabItemDisabled,w=$.setTabItemHidden,y=function U(e,t,a){var n,r=e.$region,i=e.$tabContainer,l=a.statusFieldSelector,o=a.statusHashTemplate,d=a.statusHashSeparator,s=a.fnSavePosition,u=a.fnLoadPosition,c=a.activePosition,f=r.find(l);f.length||(f=Z(l)),o&&(n=new RegExp(o.replace(ne,"\\$&")+"([-\\w]+)"));var m=function m(){var e=location.hash.match(n);return e&&e[1]?parseInt(e[1]):-1};return{savePosition:function(e){if(f.val(e),o){var t=location.hash,a=o+e;-1<t.indexOf(o)?t=t.replace(n,a):(t!==ae&&(t.length?t+=d:t=ae),t+=a),location.replace(t)}s&&s.call(i,e)},loadPosition:function b(){var t=-1;return f.each(function(){var e=Z(this).val();if("number"==typeof e||e.length)return t=e,!1}),re(t)?t:o&&re(t=m())?t:u&&re(t=u.call(i))?t:re(c)?c:0},parseHashPosition:m}}(i,0,n),S=y.savePosition,N=y.loadPosition,F=y.parseHashPosition,q=function J(c,f,m,r,b,C,I){var h=function h(e){var t=c(e),a=t.index,n=t.name;if(!(a<0||a>=C.itemCount)){var r=C.currentIndex,i=C.currentName,l=b.$tabContainer;"function"==typeof I.onBeforeSwitch&&I.onBeforeSwitch.call(l,{index:r,name:i},{index:a,name:n});var o=f(a),d=m(a),s=d.siblings();return function u(e,t,a){var n=a.activeLabelItemClass,r=a.inactiveLabelItemClass,i=a.activePanelItemClass,l=a.inactivePanelItemClass;e.removeClass(r).addClass(n).attr("aria-selected","true").attr("aria-expanded","true"),e.siblings().removeClass(n).addClass(r).attr("aria-selected","false").attr("aria-expanded","false"),t.removeClass(l).addClass(i).attr("aria-hidden","false"),t.siblings().removeClass(i).addClass(l).attr("aria-hidden","true")}(o,d,I),"function"==typeof I.fnHidePanelItem&&I.fnHidePanelItem.call(s,s),"function"==typeof I.fnShowPanelItem&&I.fnShowPanelItem.call(d,d),C.currentIndex=a,C.currentName=n,"function"==typeof I.onAfterSwitch&&I.onAfterSwitch.call(l,{index:r,name:i},{index:a,name:n}),{index:a,name:n}}},i=function i(e){var t=h(e);if(t){var a=t.index,n=t.name;r(n||a)}};return{switchToWithoutSave:h,switchTo:i}}(m,v,p,S,i,r,n),_=q.switchToWithoutSave,E=q.switchTo,A=function K(b,r,i,s,l,u,c,C){var I=function I(e,t){var a=u.$headerLabelContainerLeaf,n=u.$footerLabelContainerLeaf,r=u.$panelContainerLeaf,i=ie(e,c,C),l=i.$panelItem,o=i.cloneLabelItem;-1<c.currentIndex&&"function"==typeof C.fnHidePanelItem&&C.fnHidePanelItem.call(l,l);var d=b(t);d<0&&(d=0),0<c.itemCount&&d<c.itemCount?(a&&a.children().eq(d).before(o()),n&&n.children().eq(d).before(o()),r.children().eq(d).before(l),d<=c.currentIndex&&(c.currentIndex++,s(e.name||c.currentIndex))):(a&&a.append(o()),n&&n.append(o()),r.append(l)),c.itemCount++},a=function a(e,t){I(e,t),-1===c.currentIndex&&c.itemCount&&l(0)},t=function t(e){I(e,c.itemCount)},n=function n(e){t(e),-1===c.currentIndex&&c.itemCount&&l(0)},h=function h(e,t){for(var a=C.titleSelector,n=C.fnGetTitleContent,r=C.keepTitleVisible,i=C.fnGetTabItemName,l=C.fnIsTabItemDisabled,o=C.fnIsTabItemHidden,d=Z(e),s=0,u=b(t);;){var c=d.find(a).first();if(0===c.length)break;r||c.hide();var f=c.nextUntil(a),m={title:n.call(d,c,f),content:Z([]).add(c).add(f),name:i.call(d,c,f),disabled:l.call(d,c,f),hidden:o.call(d,c,f)};I(m,u+s),s++}},o=function o(e){h(e,c.itemCount)};return{insertTabItemWithoutSwitch:I,insertTabItem:a,addTabItemWithoutSwitch:t,addTabItem:n,insert:function d(e,t){h(e,t),-1===c.currentIndex&&c.itemCount&&l(0)},insertWithoutSwitch:h,add:function f(e){o(e),-1===c.currentIndex&&c.itemCount&&l(0)},addWithoutSwitch:o,remove:function m(e){var t=b(e);if(!(t<0||t>=c.itemCount)){var a=r(t),n=i(t);return a.remove(),n.remove(),c.itemCount--,0===c.itemCount?(c.currentIndex=-1,c.currentName=undefined):t<c.currentIndex?l(c.currentIndex-1):t===c.currentIndex&&(t===c.itemCount?l(c.currentIndex-1):l(c.currentIndex)),n}}}}(f,v,p,S,E,i,r,n),D=A.addTabItem,j=A.insertTabItem,W=A.add,B=A.addWithoutSwitch,z=A.insert,k=A.remove;if(B(e),r.itemCount||n.createEmptyTab){e.append(l);var G=function M(e,t){return function(){if(t.fixedHeight){var n=0;e.$panelContainerLeaf.children().each(function(e,t){var a=t.scrollHeight;n<a&&(n=a)}).height(n)}}}(i,n);G(),_(N()),function X(t,a,n,e){e.statusHashTemplate&&window&&Z(window).on("hashchange",function(){var e=t();-1<e&&e!==n.currentIndex&&a(e)})}(F,E,r,n),function Y(r,e,i,t){var a,l=t.tabItemNameAttr,n=t.triggerEvents,o=t.delayTriggerEvents,d=t.delayTriggerCancelEvents,s=t.delayTriggerLatency,u=t.disabledLabelItemClass,c=t.hiddenLabelItemClass,f=e.$headerLabelContainerLeaf,m=e.$footerLabelContainerLeaf,b=function b(e){a=setTimeout(function(){r(e),a=undefined},s)},C=function C(){a&&(clearTimeout(a),a=undefined)},I=function I(e){if(e.currentTarget.parentNode===e.delegateTarget){C();var t=Z(e.currentTarget),a=t.index();if(a!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var n=t.attr(l);b(n||a)}}},h=function h(e){e.currentTarget.parentNode===e.delegateTarget&&Z(e.currentTarget).index()!==i.currentIndex&&C()};o&&(f&&f.on(o,"*",I),m&&m.on(o,"*",I),d&&(f&&f.on(d,"*",h),m&&m.on(d,"*",h)));var v=function v(e){if(e.currentTarget.parentNode===e.delegateTarget){C();var t=Z(e.currentTarget),a=t.index();if(a!==i.currentIndex&&!t.hasClass(u)&&!t.hasClass(c)){var n=t.attr(l);r(n||a)}}};n&&(f&&f.on(n,"*",v),m&&m.on(n,"*",v))}(E,i,r,n);var O={getCount:d,getCurrentIndex:s,getTabItemName:u,getTabItemIndexByName:c,isTabItemDisabled:b,isTabItemHidden:C,getHeaderLabel:I,getFooterLabel:h,getHeaderFooterLabels:v,getPanel:p,getCurrentHeaderLabel:g,getCurrentFooterLabel:L,getCurrentHeaderFooterLabels:T,getCurrentPanel:x,setTabItemName:P,setTabItemDisabled:H,setTabItemHidden:w,updateFixedHeight:G,switchTo:E,addTabItem:D,insertTabItem:j,add:W,insert:z,remove:k};e.data("tab-controller",O),l.data("tab-controller",O)}}return Z.fn.tab=function(a){return this.each(function(e,t){n(Z(t),a)}),this},function e(){Z(".tab-region").tab()}(),Z});
